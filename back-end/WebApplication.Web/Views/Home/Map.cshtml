@model IList<LocationDetail>
@{
    ViewData["Title"] = "Map";
    
}


@*<html>
<head>
    <script src="https://api.mqcdn.com/sdk/mapquest-js/v1.3.2/mapquest.js"></script>
    <link type="text/css" rel="stylesheet" href="https://api.mqcdn.com/sdk/mapquest-js/v1.3.2/mapquest.css" />

    <script type="text/javascript">
        window.onload = function () {
            L.mapquest.key = 'GzQiD08G1RdLpl99mQOAHYmKcmK7yXkZ';

            var map = L.mapquest.map('map', {
                center: [41.5037778, -81.6410673],
                layers: L.mapquest.tileLayer('map'),
                zoom: 12
            });

            /* This is the zoom/reset map/traffic/current location toolbar */
            map.addControl(L.mapquest.control());
        }
    </script>
</head>

<body style="border: 0; margin: 0;">
    <div id="map" style="width: 100%; height: 530px;"></div>
</body>
</html>*@




<html>
    <head>
        <script src="https://api.mqcdn.com/sdk/mapquest-js/v1.3.2/mapquest.js"></script>
        <link type="text/css" rel="stylesheet" href="https://api.mqcdn.com/sdk/mapquest-js/v1.3.2/mapquest.css" />

        <script type="text/javascript">
            window.onload = function () {
                L.mapquest.key = 'GzQiD08G1RdLpl99mQOAHYmKcmK7yXkZ';

               
                //for (let i = 0; i < Model.length; i++) {
                //    let locationPin = 'Model[0].Street + "," + Model[0].City + "," + Model[0].State + "," + Model[0].Zip'
                //}
                //var locationPin = 'Model[0].Street + "," + Model[0].City + "," + Model[0].State + "," + Model[0].Zip';
                //let locationPin1 = '7100 Euclid Ave #140, Cleveland, OH 44103';
                //let locationPin2 = '6610 Euclid Ave, Cleveland, OH 44103';
                
                //'<%= locationPin %>'
                //'7100 Euclid Ave #140, Cleveland, OH 44103' , '6610 Euclid Ave, Cleveland, OH 44103'

                // Geocode three locations, then call the createMap callback
                L.mapquest.geocoding().geocode(['7100 Euclid Ave #140, Cleveland, OH 44103', '6610 Euclid Ave, Cleveland, OH 44103'], createMap);
                
                

                function createMap(error, response) {
                    // Initialize the Map
                    var map = L.mapquest.map('map', {
                        layers: L.mapquest.tileLayer('map'),
                        center: [0, 0],
                        zoom: 12
                    });

                    // Generate the feature group containing markers from the geocoded locations
                    var featureGroup = generateMarkersFeatureGroup(response);

                    // Add markers to the map and zoom to the features
                    featureGroup.addTo(map);
                    map.fitBounds(featureGroup.getBounds());
                }

                function generateMarkersFeatureGroup(response) {
                    var group = [];
                    for (var i = 0; i < response.results.length; i++) {
                        var location = response.results[i].locations[0];
                        var locationLatLng = location.latLng;

                        // Create a marker for each location
                        var marker = L.marker(locationLatLng, { icon: L.mapquest.icons.marker() })
                            .bindPopup(location.adminArea5 + ', ' + location.adminArea3);

                        group.push(marker);
                    }
                    return L.featureGroup(group);
                }
            }
        </script>
    </head>

    <body style="border: 0; margin: 0;">
        <div id="map" style="width: 100%; height: 500px;"></div>
    </body>
    </html>